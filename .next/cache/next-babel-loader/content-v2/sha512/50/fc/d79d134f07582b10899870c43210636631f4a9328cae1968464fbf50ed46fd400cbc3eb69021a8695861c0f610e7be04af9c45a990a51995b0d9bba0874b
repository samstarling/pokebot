{"ast":null,"code":"import { pickOne, emojiFor } from \"../pokemon\";\nexport default {\n  id: \"fusion\",\n  triggerPhrase: \"Who's that fusion?\",\n  respond: async ({\n    event,\n    client,\n    pokeRepo\n  }) => {\n    const firstPoke = await pokeRepo.find({\n      where: {\n        generation: 1\n      }\n    }).then(pokes => pickOne(pokes));\n    const secondPoke = await pokeRepo.find({\n      where: {\n        generation: 1,\n        number: {\n          not: firstPoke.number\n        }\n      }\n    }).then(pokes => pickOne(pokes));\n    const text = `<@${event.user}> It's a :${emojiFor(firstPoke)}: crossed with a :${emojiFor(secondPoke)}:`;\n    await client.chat.postMessage({\n      channel: event.channel,\n      text,\n      blocks: [{\n        type: \"section\",\n        text: {\n          type: \"mrkdwn\",\n          text\n        }\n      }, {\n        type: \"image\",\n        alt_text: \"What a monstrosity\",\n        image_url: `https://images.alexonsager.net/pokemon/fused/${firstPoke.number}/${firstPoke.number}.${secondPoke.number}.png`\n      }]\n    });\n  }\n};","map":{"version":3,"sources":["/Users/samstarling/Development/personal/pokebot/lib/responders/fusion.ts"],"names":["pickOne","emojiFor","id","triggerPhrase","respond","event","client","pokeRepo","firstPoke","find","where","generation","then","pokes","secondPoke","number","not","text","user","chat","postMessage","channel","blocks","type","alt_text","image_url"],"mappings":"AACA,SAASA,OAAT,EAAkBC,QAAlB,QAAkC,YAAlC;AAEA,eAAe;AACbC,EAAAA,EAAE,EAAE,QADS;AAEbC,EAAAA,aAAa,EAAE,oBAFF;AAGbC,EAAAA,OAAO,EAAE,OAAO;AAAEC,IAAAA,KAAF;AAASC,IAAAA,MAAT;AAAiBC,IAAAA;AAAjB,GAAP,KAAsD;AAC7D,UAAMC,SAAS,GAAG,MAAMD,QAAQ,CAC7BE,IADqB,CAChB;AAAEC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,UAAU,EAAE;AAAd;AAAT,KADgB,EAErBC,IAFqB,CAEfC,KAAD,IAAWb,OAAO,CAACa,KAAD,CAFF,CAAxB;AAIA,UAAMC,UAAU,GAAG,MAAMP,QAAQ,CAC9BE,IADsB,CACjB;AAAEC,MAAAA,KAAK,EAAE;AAAEC,QAAAA,UAAU,EAAE,CAAd;AAAiBI,QAAAA,MAAM,EAAE;AAAEC,UAAAA,GAAG,EAAER,SAAS,CAACO;AAAjB;AAAzB;AAAT,KADiB,EAEtBH,IAFsB,CAEhBC,KAAD,IAAWb,OAAO,CAACa,KAAD,CAFD,CAAzB;AAIA,UAAMI,IAAI,GAAI,KAAIZ,KAAK,CAACa,IAAK,aAAYjB,QAAQ,CAC/CO,SAD+C,CAE/C,qBAAoBP,QAAQ,CAACa,UAAD,CAAa,GAF3C;AAIA,UAAMR,MAAM,CAACa,IAAP,CAAYC,WAAZ,CAAwB;AAC5BC,MAAAA,OAAO,EAAEhB,KAAK,CAACgB,OADa;AAE5BJ,MAAAA,IAF4B;AAG5BK,MAAAA,MAAM,EAAE,CACN;AACEC,QAAAA,IAAI,EAAE,SADR;AAEEN,QAAAA,IAAI,EAAE;AACJM,UAAAA,IAAI,EAAE,QADF;AAEJN,UAAAA;AAFI;AAFR,OADM,EAQN;AACEM,QAAAA,IAAI,EAAE,OADR;AAEEC,QAAAA,QAAQ,EAAE,oBAFZ;AAGEC,QAAAA,SAAS,EAAG,gDAA+CjB,SAAS,CAACO,MAAO,IAAGP,SAAS,CAACO,MAAO,IAAGD,UAAU,CAACC,MAAO;AAHvH,OARM;AAHoB,KAAxB,CAAN;AAkBD;AAlCY,CAAf","sourcesContent":["import { Responder, RespondParams } from \"./\";\nimport { pickOne, emojiFor } from \"../pokemon\";\n\nexport default {\n  id: \"fusion\",\n  triggerPhrase: \"Who's that fusion?\",\n  respond: async ({ event, client, pokeRepo }: RespondParams) => {\n    const firstPoke = await pokeRepo\n      .find({ where: { generation: 1 } })\n      .then((pokes) => pickOne(pokes));\n\n    const secondPoke = await pokeRepo\n      .find({ where: { generation: 1, number: { not: firstPoke.number } } })\n      .then((pokes) => pickOne(pokes));\n\n    const text = `<@${event.user}> It's a :${emojiFor(\n      firstPoke\n    )}: crossed with a :${emojiFor(secondPoke)}:`;\n\n    await client.chat.postMessage({\n      channel: event.channel,\n      text,\n      blocks: [\n        {\n          type: \"section\",\n          text: {\n            type: \"mrkdwn\",\n            text,\n          },\n        },\n        {\n          type: \"image\",\n          alt_text: \"What a monstrosity\",\n          image_url: `https://images.alexonsager.net/pokemon/fused/${firstPoke.number}/${firstPoke.number}.${secondPoke.number}.png`,\n        },\n      ],\n    });\n  },\n} as Responder;\n"]},"metadata":{},"sourceType":"module"}