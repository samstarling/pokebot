{"ast":null,"code":"import { emojiFor } from \"../pokemon\";\nexport default {\n  id: \"history\",\n  triggerPhrase: \"History\",\n  respond: async (event, client, prisma) => {\n    await prisma.roll.findMany({\n      where: {\n        userId: event.user\n      },\n      include: {\n        Pokemon: true\n      },\n      orderBy: {\n        createdAt: \"desc\"\n      },\n      take: 5\n    }).then(async rolls => {\n      const text = rolls.map(r => descriptionFor(r.Pokemon)).join(\", \");\n      await client.chat.postMessage({\n        channel: event.channel,\n        text: `<@${event.user}> Your most recent PokÃ©mon were ${text}`\n      });\n    });\n  }\n};\n\nconst descriptionFor = p => `:${emojiFor(p)}: ${p.name}`;","map":null,"metadata":{},"sourceType":"module"}