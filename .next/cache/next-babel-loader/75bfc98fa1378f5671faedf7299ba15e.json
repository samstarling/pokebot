{"ast":null,"code":"import { createEventAdapter } from \"@slack/events-api\";\nimport { WebClient } from \"@slack/web-api\";\nconst web = new WebClient(process.env.SLACK_TOKEN);\nconst slackEvents = createEventAdapter(process.env.SLACK_SIGNING_SECRET || \"\");\nconst POKEMON = [\"Bulbasaur\", \"Ivysaur\", \"Venusaur\", \"Charmander\", \"Charmeleon\", \"Charizard\", \"Squirtle\", \"Wartortle\", \"Blastoise\", \"Caterpie\", \"Metapod\", \"Butterfree\", \"Weedle\", \"Kakuna\", \"Beedrill\", \"Pidgey\", \"Pidgeotto\", \"Pidgeot\", \"Rattata\", \"Raticate\", \"Spearow\", \"Fearow\", \"Ekans\", \"Arbok\", \"Pikachu\", \"Raichu\", \"Sandshrew\", \"Sandslash\", \"Nidoran♀\", \"Nidorina\", \"Nidoqueen\", \"Nidoran♂\", \"Nidorino\", \"Nidoking\", \"Clefairy\", \"Clefable\", \"Vulpix\", \"Ninetales\", \"Jigglypuff\", \"Wigglytuff\", \"Zubat\", \"Golbat\", \"Oddish\", \"Gloom\", \"Vileplume\", \"Paras\", \"Parasect\", \"Venonat\", \"Venomoth\", \"Diglett\", \"Dugtrio\", \"Meowth\", \"Persian\", \"Psyduck\", \"Golduck\", \"Mankey\", \"Primeape\", \"Growlithe\", \"Arcanine\", \"Poliwag\", \"Poliwhirl\", \"Poliwrath\", \"Abra\", \"Kadabra\", \"Alakazam\", \"Machop\", \"Machoke\", \"Machamp\", \"Bellsprout\", \"Weepinbell\", \"Victreebel\", \"Tentacool\", \"Tentacruel\", \"Geodude\", \"Graveler\", \"Golem\", \"Ponyta\", \"Rapidash\", \"Slowpoke\", \"Slowbro\", \"Magnemite\", \"Magneton\", \"Farfetch'd\", \"Doduo\", \"Dodrio\", \"Seel\", \"Dewgong\", \"Grimer\", \"Muk\", \"Shellder\", \"Cloyster\", \"Gastly\", \"Haunter\", \"Gengar\", \"Onix\", \"Drowzee\", \"Hypno\", \"Krabby\", \"Kingler\", \"Voltorb\", \"Electrode\", \"Exeggcute\", \"Exeggutor\", \"Cubone\", \"Marowak\", \"Hitmonlee\", \"Hitmonchan\", \"Lickitung\", \"Koffing\", \"Weezing\", \"Rhyhorn\", \"Rhydon\", \"Chansey\", \"Tangela\", \"Kangaskhan\", \"Horsea\", \"Seadra\", \"Goldeen\", \"Seaking\", \"Staryu\", \"Starmie\", \"Mr. Mime\", \"Scyther\", \"Jynx\", \"Electabuzz\", \"Magmar\", \"Pinsir\", \"Tauros\", \"Magikarp\", \"Gyarados\", \"Lapras\", \"Ditto\", \"Eevee\", \"Vaporeon\", \"Jolteon\", \"Flareon\", \"Porygon\", \"Omanyte\", \"Omastar\", \"Kabuto\", \"Kabutops\", \"Aerodactyl\", \"Snorlax\", \"Articuno\", \"Zapdos\", \"Moltres\", \"Dratini\", \"Dragonair\", \"Dragonite\", \"Mewtwo\", \"Mew\"];\n\nconst pickPokemon = async event => {\n  console.log(\"Picking Pokémon...\");\n\n  if (!event.text.includes(\"Who’s that Pokémon?\")) {\n    return;\n  }\n\n  const result = POKEMON[Math.floor(Math.random() * POKEMON.length)];\n  await web.chat.postMessage({\n    channel: event.channel,\n    text: `<@${event.user}>: :${result.toLowerCase()}: It’s ${result}!`\n  });\n};\n\nconst logError = error => {\n  console.error(\"Error: \", error);\n};\n\nslackEvents.on(\"app_mention\", pickPokemon);\nslackEvents.on(\"error\", logError);\nexport default slackEvents.requestListener();\nexport const config = {\n  api: {\n    bodyParser: false,\n    externalResolver: true\n  }\n};","map":{"version":3,"sources":["/Users/samstarling/Development/personal/pokebot/pages/api/event.ts"],"names":["createEventAdapter","WebClient","web","process","env","SLACK_TOKEN","slackEvents","SLACK_SIGNING_SECRET","POKEMON","pickPokemon","event","console","log","text","includes","result","Math","floor","random","length","chat","postMessage","channel","user","toLowerCase","logError","error","on","requestListener","config","api","bodyParser","externalResolver"],"mappings":"AAAA,SAASA,kBAAT,QAAmC,mBAAnC;AACA,SAASC,SAAT,QAA0B,gBAA1B;AAEA,MAAMC,GAAG,GAAG,IAAID,SAAJ,CAAcE,OAAO,CAACC,GAAR,CAAYC,WAA1B,CAAZ;AACA,MAAMC,WAAW,GAAGN,kBAAkB,CAACG,OAAO,CAACC,GAAR,CAAYG,oBAAZ,IAAoC,EAArC,CAAtC;AAEA,MAAMC,OAAO,GAAG,CACd,WADc,EAEd,SAFc,EAGd,UAHc,EAId,YAJc,EAKd,YALc,EAMd,WANc,EAOd,UAPc,EAQd,WARc,EASd,WATc,EAUd,UAVc,EAWd,SAXc,EAYd,YAZc,EAad,QAbc,EAcd,QAdc,EAed,UAfc,EAgBd,QAhBc,EAiBd,WAjBc,EAkBd,SAlBc,EAmBd,SAnBc,EAoBd,UApBc,EAqBd,SArBc,EAsBd,QAtBc,EAuBd,OAvBc,EAwBd,OAxBc,EAyBd,SAzBc,EA0Bd,QA1Bc,EA2Bd,WA3Bc,EA4Bd,WA5Bc,EA6Bd,UA7Bc,EA8Bd,UA9Bc,EA+Bd,WA/Bc,EAgCd,UAhCc,EAiCd,UAjCc,EAkCd,UAlCc,EAmCd,UAnCc,EAoCd,UApCc,EAqCd,QArCc,EAsCd,WAtCc,EAuCd,YAvCc,EAwCd,YAxCc,EAyCd,OAzCc,EA0Cd,QA1Cc,EA2Cd,QA3Cc,EA4Cd,OA5Cc,EA6Cd,WA7Cc,EA8Cd,OA9Cc,EA+Cd,UA/Cc,EAgDd,SAhDc,EAiDd,UAjDc,EAkDd,SAlDc,EAmDd,SAnDc,EAoDd,QApDc,EAqDd,SArDc,EAsDd,SAtDc,EAuDd,SAvDc,EAwDd,QAxDc,EAyDd,UAzDc,EA0Dd,WA1Dc,EA2Dd,UA3Dc,EA4Dd,SA5Dc,EA6Dd,WA7Dc,EA8Dd,WA9Dc,EA+Dd,MA/Dc,EAgEd,SAhEc,EAiEd,UAjEc,EAkEd,QAlEc,EAmEd,SAnEc,EAoEd,SApEc,EAqEd,YArEc,EAsEd,YAtEc,EAuEd,YAvEc,EAwEd,WAxEc,EAyEd,YAzEc,EA0Ed,SA1Ec,EA2Ed,UA3Ec,EA4Ed,OA5Ec,EA6Ed,QA7Ec,EA8Ed,UA9Ec,EA+Ed,UA/Ec,EAgFd,SAhFc,EAiFd,WAjFc,EAkFd,UAlFc,EAmFd,YAnFc,EAoFd,OApFc,EAqFd,QArFc,EAsFd,MAtFc,EAuFd,SAvFc,EAwFd,QAxFc,EAyFd,KAzFc,EA0Fd,UA1Fc,EA2Fd,UA3Fc,EA4Fd,QA5Fc,EA6Fd,SA7Fc,EA8Fd,QA9Fc,EA+Fd,MA/Fc,EAgGd,SAhGc,EAiGd,OAjGc,EAkGd,QAlGc,EAmGd,SAnGc,EAoGd,SApGc,EAqGd,WArGc,EAsGd,WAtGc,EAuGd,WAvGc,EAwGd,QAxGc,EAyGd,SAzGc,EA0Gd,WA1Gc,EA2Gd,YA3Gc,EA4Gd,WA5Gc,EA6Gd,SA7Gc,EA8Gd,SA9Gc,EA+Gd,SA/Gc,EAgHd,QAhHc,EAiHd,SAjHc,EAkHd,SAlHc,EAmHd,YAnHc,EAoHd,QApHc,EAqHd,QArHc,EAsHd,SAtHc,EAuHd,SAvHc,EAwHd,QAxHc,EAyHd,SAzHc,EA0Hd,UA1Hc,EA2Hd,SA3Hc,EA4Hd,MA5Hc,EA6Hd,YA7Hc,EA8Hd,QA9Hc,EA+Hd,QA/Hc,EAgId,QAhIc,EAiId,UAjIc,EAkId,UAlIc,EAmId,QAnIc,EAoId,OApIc,EAqId,OArIc,EAsId,UAtIc,EAuId,SAvIc,EAwId,SAxIc,EAyId,SAzIc,EA0Id,SA1Ic,EA2Id,SA3Ic,EA4Id,QA5Ic,EA6Id,UA7Ic,EA8Id,YA9Ic,EA+Id,SA/Ic,EAgJd,UAhJc,EAiJd,QAjJc,EAkJd,SAlJc,EAmJd,SAnJc,EAoJd,WApJc,EAqJd,WArJc,EAsJd,QAtJc,EAuJd,KAvJc,CAAhB;;AAgKA,MAAMC,WAAW,GAAG,MAAOC,KAAP,IAA+B;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;;AAEA,MAAI,CAACF,KAAK,CAACG,IAAN,CAAWC,QAAX,CAAoB,qBAApB,CAAL,EAAiD;AAC/C;AACD;;AAED,QAAMC,MAAM,GAAGP,OAAO,CAACQ,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBV,OAAO,CAACW,MAAnC,CAAD,CAAtB;AACA,QAAMjB,GAAG,CAACkB,IAAJ,CAASC,WAAT,CAAqB;AACzBC,IAAAA,OAAO,EAAEZ,KAAK,CAACY,OADU;AAEzBT,IAAAA,IAAI,EAAG,KAAIH,KAAK,CAACa,IAAK,OAAMR,MAAM,CAACS,WAAP,EAAqB,UAAST,MAAO;AAFxC,GAArB,CAAN;AAID,CAZD;;AAcA,MAAMU,QAAQ,GAAIC,KAAD,IAAe;AAC9Bf,EAAAA,OAAO,CAACe,KAAR,CAAc,SAAd,EAAyBA,KAAzB;AACD,CAFD;;AAIApB,WAAW,CAACqB,EAAZ,CAAe,aAAf,EAA8BlB,WAA9B;AACAH,WAAW,CAACqB,EAAZ,CAAe,OAAf,EAAwBF,QAAxB;AAEA,eAAenB,WAAW,CAACsB,eAAZ,EAAf;AAEA,OAAO,MAAMC,MAAM,GAAG;AACpBC,EAAAA,GAAG,EAAE;AACHC,IAAAA,UAAU,EAAE,KADT;AAEHC,IAAAA,gBAAgB,EAAE;AAFf;AADe,CAAf","sourcesContent":["import { createEventAdapter } from \"@slack/events-api\";\nimport { WebClient } from \"@slack/web-api\";\n\nconst web = new WebClient(process.env.SLACK_TOKEN);\nconst slackEvents = createEventAdapter(process.env.SLACK_SIGNING_SECRET || \"\");\n\nconst POKEMON = [\n  \"Bulbasaur\",\n  \"Ivysaur\",\n  \"Venusaur\",\n  \"Charmander\",\n  \"Charmeleon\",\n  \"Charizard\",\n  \"Squirtle\",\n  \"Wartortle\",\n  \"Blastoise\",\n  \"Caterpie\",\n  \"Metapod\",\n  \"Butterfree\",\n  \"Weedle\",\n  \"Kakuna\",\n  \"Beedrill\",\n  \"Pidgey\",\n  \"Pidgeotto\",\n  \"Pidgeot\",\n  \"Rattata\",\n  \"Raticate\",\n  \"Spearow\",\n  \"Fearow\",\n  \"Ekans\",\n  \"Arbok\",\n  \"Pikachu\",\n  \"Raichu\",\n  \"Sandshrew\",\n  \"Sandslash\",\n  \"Nidoran♀\",\n  \"Nidorina\",\n  \"Nidoqueen\",\n  \"Nidoran♂\",\n  \"Nidorino\",\n  \"Nidoking\",\n  \"Clefairy\",\n  \"Clefable\",\n  \"Vulpix\",\n  \"Ninetales\",\n  \"Jigglypuff\",\n  \"Wigglytuff\",\n  \"Zubat\",\n  \"Golbat\",\n  \"Oddish\",\n  \"Gloom\",\n  \"Vileplume\",\n  \"Paras\",\n  \"Parasect\",\n  \"Venonat\",\n  \"Venomoth\",\n  \"Diglett\",\n  \"Dugtrio\",\n  \"Meowth\",\n  \"Persian\",\n  \"Psyduck\",\n  \"Golduck\",\n  \"Mankey\",\n  \"Primeape\",\n  \"Growlithe\",\n  \"Arcanine\",\n  \"Poliwag\",\n  \"Poliwhirl\",\n  \"Poliwrath\",\n  \"Abra\",\n  \"Kadabra\",\n  \"Alakazam\",\n  \"Machop\",\n  \"Machoke\",\n  \"Machamp\",\n  \"Bellsprout\",\n  \"Weepinbell\",\n  \"Victreebel\",\n  \"Tentacool\",\n  \"Tentacruel\",\n  \"Geodude\",\n  \"Graveler\",\n  \"Golem\",\n  \"Ponyta\",\n  \"Rapidash\",\n  \"Slowpoke\",\n  \"Slowbro\",\n  \"Magnemite\",\n  \"Magneton\",\n  \"Farfetch'd\",\n  \"Doduo\",\n  \"Dodrio\",\n  \"Seel\",\n  \"Dewgong\",\n  \"Grimer\",\n  \"Muk\",\n  \"Shellder\",\n  \"Cloyster\",\n  \"Gastly\",\n  \"Haunter\",\n  \"Gengar\",\n  \"Onix\",\n  \"Drowzee\",\n  \"Hypno\",\n  \"Krabby\",\n  \"Kingler\",\n  \"Voltorb\",\n  \"Electrode\",\n  \"Exeggcute\",\n  \"Exeggutor\",\n  \"Cubone\",\n  \"Marowak\",\n  \"Hitmonlee\",\n  \"Hitmonchan\",\n  \"Lickitung\",\n  \"Koffing\",\n  \"Weezing\",\n  \"Rhyhorn\",\n  \"Rhydon\",\n  \"Chansey\",\n  \"Tangela\",\n  \"Kangaskhan\",\n  \"Horsea\",\n  \"Seadra\",\n  \"Goldeen\",\n  \"Seaking\",\n  \"Staryu\",\n  \"Starmie\",\n  \"Mr. Mime\",\n  \"Scyther\",\n  \"Jynx\",\n  \"Electabuzz\",\n  \"Magmar\",\n  \"Pinsir\",\n  \"Tauros\",\n  \"Magikarp\",\n  \"Gyarados\",\n  \"Lapras\",\n  \"Ditto\",\n  \"Eevee\",\n  \"Vaporeon\",\n  \"Jolteon\",\n  \"Flareon\",\n  \"Porygon\",\n  \"Omanyte\",\n  \"Omastar\",\n  \"Kabuto\",\n  \"Kabutops\",\n  \"Aerodactyl\",\n  \"Snorlax\",\n  \"Articuno\",\n  \"Zapdos\",\n  \"Moltres\",\n  \"Dratini\",\n  \"Dragonair\",\n  \"Dragonite\",\n  \"Mewtwo\",\n  \"Mew\",\n];\n\ntype MentionEvent = {\n  channel: string;\n  text: string;\n  user: string;\n};\n\nconst pickPokemon = async (event: MentionEvent) => {\n  console.log(\"Picking Pokémon...\");\n\n  if (!event.text.includes(\"Who’s that Pokémon?\")) {\n    return;\n  }\n\n  const result = POKEMON[Math.floor(Math.random() * POKEMON.length)];\n  await web.chat.postMessage({\n    channel: event.channel,\n    text: `<@${event.user}>: :${result.toLowerCase()}: It’s ${result}!`,\n  });\n};\n\nconst logError = (error: {}) => {\n  console.error(\"Error: \", error);\n};\n\nslackEvents.on(\"app_mention\", pickPokemon);\nslackEvents.on(\"error\", logError);\n\nexport default slackEvents.requestListener();\n\nexport const config = {\n  api: {\n    bodyParser: false,\n    externalResolver: true,\n  },\n};\n"]},"metadata":{},"sourceType":"module"}